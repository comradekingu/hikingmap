<Style name="symbols-facilities">

  <Rule>
    &maxscale_zoom15;
    <Filter>[sport]='motor' or [sport]='motocross' or [highway]='raceway'</Filter>
    <PointSymbolizer file="&symbols;/motorsport.png"/>
  </Rule>
  <Rule>
    &maxscale_zoom14;
    <Filter>[leisure]='golf_course' or [sport]='golf'</Filter>
    <PointSymbolizer file="&symbols;/golfcourse.png"/>
  </Rule>
  <Rule>
    &maxscale_zoom14;
    <Filter>[sport]='shooting'</Filter>
    <PointSymbolizer file="&symbols;/shootingrange.png"/>
  </Rule>
  <Rule>
    &maxscale_zoom15;
    <Filter>[leisure]='fishing'</Filter>
    <PointSymbolizer file="&symbols;/fishing.png"/>
  </Rule>

  <Rule>
    &maxscale_zoom14;
    <Filter>[tourism]='camp_site'</Filter>
    <PointSymbolizer file="&symbols;/campsite.png"/>
  </Rule>
  <Rule>
    &maxscale_zoom13;
    <Filter>[tourism]='caravan_site'</Filter>
    <PointSymbolizer file="&symbols;/caravansite.png"/>
  </Rule>

  <Rule>
    &maxscale_zoom16;
    <Filter>[amenity]='drinking_water' or [natural]='spring' or [waterway]='water_point'</Filter>
    <PointSymbolizer file="&symbols;/drinkingwater.png"/>
  </Rule>
  <Rule>
    &maxscale_zoom16;
    <Filter>[amenity]='restaurant' or [amenity]='fast_food' or [amenity]='food_court'</Filter>
    <PointSymbolizer file="&symbols;/restaurant.png"/>
  </Rule>

  <Rule>
    &maxscale_zoom16;
    <Filter>[tourism]='information'</Filter>
    <PointSymbolizer file="&symbols;/information.png"/>
  </Rule>
  <Rule>
    &maxscale_zoom15;
    <Filter>[tourism]='hotel' or [tourism]='motel' or [tourism]='guest_house'</Filter>
    <PointSymbolizer file="&symbols;/hotel.png"/>
  </Rule>
  <Rule>
    &maxscale_zoom15;
    <Filter>[tourism]='hostel'</Filter>
    <PointSymbolizer file="&symbols;/hostel.png"/>
  </Rule>
  <Rule>
    &maxscale_zoom15;
    <Filter>[tourism]='chalet'</Filter>
    <PointSymbolizer file="&symbols;/chalet.png"/>
  </Rule>

  <Rule>
    &maxscale_zoom16;
    <Filter>[amenity]='taxi'</Filter>
    <PointSymbolizer file="&symbols;/taxi.png"/>
  </Rule>
  <Rule>
    &maxscale_zoom16;
    <Filter>[railway]='subway_entrance'</Filter>
    <PointSymbolizer file="&symbols;/subway.png"/>
  </Rule>
  <Rule>
    &maxscale_zoom16;
    <Filter>[amenity]='fuel'</Filter>
    <PointSymbolizer file="&symbols;/fuel.png"/>
  </Rule>
  <Rule>
    &maxscale_zoom16;
    <Filter>[amenity]='telephone' or [amenity]='emergency_phone'</Filter>
    <PointSymbolizer file="&symbols;/telephone.png"/>
  </Rule>

  <Rule>
    &maxscale_zoom16;
    <Filter>[amenity]='ferry_terminal'</Filter>
    <PointSymbolizer file="&symbols;/ferry.png"/>
  </Rule>
  <Rule>
    &maxscale_zoom16;
    <Filter>[leisure]='marina'</Filter>
    <PointSymbolizer file="&symbols;/marina.png"/>
  </Rule>
  <Rule>
    &maxscale_zoom16;
    <Filter>[leisure]='slipway'</Filter>
    <PointSymbolizer file="&symbols;/slipway.png"/>
  </Rule>

  <Rule>
    &maxscale_zoom16;
    <Filter>[amenity]='pharmacy'</Filter>
    <PointSymbolizer file="&symbols;/pharmacy.png"/>
  </Rule>
  <Rule>
    &maxscale_zoom16;
    <Filter>[amenity]='hospital'</Filter>
    <PointSymbolizer file="&symbols;/hospital.png"/>
  </Rule>
  <Rule>
    &maxscale_zoom16;
    <Filter>[amenity]='doctors'</Filter>
    <PointSymbolizer file="&symbols;/doctors.png"/>
  </Rule>
  <Rule>
    &maxscale_zoom16;
    <Filter>[amenity]='dentist'</Filter>
    <PointSymbolizer file="&symbols;/dentist.png"/>
  </Rule>

  <Rule>
    &maxscale_zoom16;
    <Filter>[amenity]='theatre'</Filter>
    <PointSymbolizer file="&symbols;/theatre.png"/>
  </Rule>
  <Rule>
    &maxscale_zoom16;
    <Filter>[amenity]='cinema'</Filter>
    <PointSymbolizer file="&symbols;/cinema.png"/>
  </Rule>
  <Rule>
    &maxscale_zoom16;
    <Filter>[amenity]='community_centre' or [amenity]='arts_centre' or [leisure]='music_venue'</Filter>
    <PointSymbolizer file="&symbols;/concerthall.png"/>
  </Rule>
  <Rule>
    &maxscale_zoom16;
    <Filter>[tourism]='museum'</Filter>
    <PointSymbolizer file="&symbols;/museum.png"/>
  </Rule>
  <Rule>
    &maxscale_zoom15;
    <Filter>[tourism]='attraction'</Filter>
    <PointSymbolizer file="&symbols;/attraction.png"/>
  </Rule>

  <Rule>
    &maxscale_zoom16;
    <Filter>([shop]='supermarket' or [shop]='convenience' or [shop]='mall') and not [amenity]='post_office'</Filter>
    <PointSymbolizer file="&symbols;/groceries.png"/>
  </Rule>
  <Rule>
    &maxscale_zoom16;
    <Filter>[amenity]='post_office' and not ([shop]='supermarket' or [shop]='convenience')</Filter>
    <PointSymbolizer file="&symbols;/postoffice.png"/>
  </Rule>
  <Rule>
    &maxscale_zoom16;
    <Filter>[amenity]='post_office' and ([shop]='convenience' or [shop]='supermarket')</Filter>
    <PointSymbolizer file="&symbols;/groceries-postalservices.png"/>
  </Rule>
  <Rule>
    &maxscale_zoom16;
    <Filter>[shop]='kiosk' or [shop]='ice_cream'</Filter>
    <PointSymbolizer file="&symbols;/kiosk.png"/>
  </Rule>
  <Rule>
    &maxscale_zoom16;
    <Filter>[shop]='alcohol' or [shop]='beverages'</Filter>
    <PointSymbolizer file="&symbols;/alcohol.png"/>
  </Rule>
  <Rule>
    &maxscale_zoom16;
    <Filter>[amenity]='bank' or [amenity]='atm' or [amenity]='bureau_de_change'</Filter>
    <PointSymbolizer file="&symbols;/bank.png"/>
  </Rule>
  <Rule>
    &maxscale_zoom16;
    <Filter>[amenity]='library'</Filter>
    <PointSymbolizer file="&symbols;/library.png"/>
  </Rule>
  <Rule>
    &maxscale_zoom16;
    <Filter>[amenity]='police'</Filter>
    <PointSymbolizer file="&symbols;/police.png"/>
  </Rule>
  <Rule>
    &maxscale_zoom16;
    <Filter>[amenity]='toilets'</Filter>
    <PointSymbolizer file="&symbols;/toilets.png"/>
  </Rule>
  <Rule>
    &maxscale_zoom16;
    <Filter>[amenity]='waste_basket' or [amenity]='waste_disposal' or [amenity]='recycling'</Filter>
    <PointSymbolizer file="&symbols;/waste.png"/>
  </Rule>

</Style>

<Layer name="facilities" status="on" srs="&osm2pgsql_projection;">
  <StyleName>symbols-facilities</StyleName>
  <Datasource>
    <Parameter name="table">
    (select *
    from &prefix;_point
    where amenity is not null
       or shop is not null
       or sport is not null
       or "natural" in ('spring')
       or waterway='water_point'
       or railway in ('station','subway_entrance','halt','stop')
       or tourism in ('museum','attraction','hotel','motel','hostel','chalet','camp_site','caravan_site')
       or leisure in ('golf_course','fishing','marina','slipway')
    ) as facilities</Parameter>
    &datasource-settings;
  </Datasource>
</Layer>
<Layer name="facilities-poly" status="on" srs="&osm2pgsql_projection;">
  <StyleName>symbols-facilities</StyleName>
  <Datasource>
    <Parameter name="table">
    (select *
    from &prefix;_polygon
    where amenity is not null
       or shop is not null
       or sport is not null
       or highway='raceway'
       or tourism in ('museum','attraction','hotel','motel','hostel','chalet','camp_site','caravan_site')
       or leisure in ('golf_course','fishing','marina')
    ) as facilities</Parameter>
    &datasource-settings;
  </Datasource>
</Layer>
